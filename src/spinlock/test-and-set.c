// code for test-and-set algorithm