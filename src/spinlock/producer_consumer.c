// producer-consumer problem using spinlocks